{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/silent-killer/Videos/timora_check/timora/app/admin/products/edit/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, use } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { ArrowLeft, Plus, X } from 'lucide-react'\nimport Link from 'next/link'\n\ninterface Brand {\n  id: string\n  name: string\n  slug: string\n}\n\ninterface Product {\n  id: string\n  name: string\n  description: string\n  price: number\n  category: string\n  brand: string\n  stock: number\n  images: string[]\n  is_featured: boolean\n  is_active: boolean\n  specifications?: any\n}\n\nexport default function EditProduct({ params }: { params: Promise<{ id: string }> }) {\n  const { id } = use(params)\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [brands, setBrands] = useState<Brand[]>([])\n  const [product, setProduct] = useState<Product | null>(null)\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: 'men',\n    brand: '',\n    stock: '',\n    images: [''],\n    is_featured: false,\n    is_active: true,\n    specifications: {\n      movement: '',\n      case_material: '',\n      case_size: '',\n      water_resistance: '',\n      strap_material: '',\n      dial_color: ''\n    }\n  })\n\n  useEffect(() => {\n    fetchProduct()\n    fetchBrands()\n  }, [id])\n\n  const fetchProduct = async () => {\n    try {\n      const res = await fetch(`http://localhost:8000/api/products/${id}`)\n      if (res.ok) {\n        const data = await res.json()\n        setProduct(data)\n        setFormData({\n          name: data.name,\n          description: data.description,\n          price: data.price.toString(),\n          category: data.category,\n          brand: data.brand,\n          stock: data.stock.toString(),\n          images: data.images.length > 0 ? data.images : [''],\n          is_featured: data.is_featured,\n          is_active: data.is_active,\n          specifications: data.specifications || {\n            movement: '',\n            case_material: '',\n            case_size: '',\n            water_resistance: '',\n            strap_material: '',\n            dial_color: ''\n          }\n        })\n      }\n    } catch (error) {\n      console.error('Error fetching product:', error)\n    }\n  }\n\n  const fetchBrands = async () => {\n    try {\n      const res = await fetch('http://localhost:8000/api/brands?is_active=true')\n      if (res.ok) {\n        const data = await res.json()\n        setBrands(data)\n      }\n    } catch (error) {\n      console.error('Error fetching brands:', error)\n    }\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target\n\n    if (type === 'checkbox') {\n      const checked = (e.target as HTMLInputElement).checked\n      setFormData(prev => ({\n        ...prev,\n        [name]: checked\n      }))\n    } else if (name.startsWith('specifications.')) {\n      const specField = name.split('.')[1]\n      setFormData(prev => ({\n        ...prev,\n        specifications: {\n          ...prev.specifications,\n          [specField]: value\n        }\n      }))\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }))\n    }\n  }\n\n  const handleImageChange = (index: number, value: string) => {\n    const newImages = [...formData.images]\n    newImages[index] = value\n    setFormData(prev => ({ ...prev, images: newImages }))\n  }\n\n  const addImageField = () => {\n    setFormData(prev => ({ ...prev, images: [...prev.images, ''] }))\n  }\n\n  const removeImageField = (index: number) => {\n    const newImages = formData.images.filter((_, i) => i !== index)\n    setFormData(prev => ({ ...prev, images: newImages }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    const token = localStorage.getItem('token')\n    if (!token) {\n      alert('Please login')\n      router.push('/login')\n      return\n    }\n\n    try {\n      const productData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        stock: parseInt(formData.stock),\n        images: formData.images.filter(img => img !== '')\n      }\n\n      const res = await fetch(`http://localhost:8000/api/products/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(productData)\n      })\n\n      if (res.ok) {\n        alert('Product updated successfully!')\n        router.push('/admin/products')\n      } else {\n        const error = await res.json()\n        alert(error.detail || 'Failed to update product')\n      }\n    } catch (error) {\n      console.error('Error updating product:', error)\n      alert('Something went wrong')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (!product) {\n    return (\n      <div style={{ minHeight: '100vh', backgroundColor: '#1a1d2e', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <div style={{ color: 'white', fontSize: '1.25rem' }}>Loading product...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#1a1d2e', padding: '1.5rem' }}>\n      <div style={{ maxWidth: '1024px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '2rem' }}>\n          <Link href=\"/admin/products\">\n            <ArrowLeft style={{ width: '1.5rem', height: '1.5rem', color: 'white', cursor: 'pointer' }} />\n          </Link>\n          <h1 style={{ fontSize: '2rem', fontWeight: 'bold', color: 'white' }}>Edit Product</h1>\n        </div>\n\n        {/* Form - Same as Add Product */}\n        <form onSubmit={handleSubmit}>\n          {/* Copy the same form structure from AddProduct but with formData populated */}\n          {/* Basic Information, Images, Specifications sections - same structure */}\n\n          {/* Submit Buttons */}\n          <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end' }}>\n            <Link href=\"/admin/products\">\n              <button\n                type=\"button\"\n                style={{\n                  padding: '0.75rem 2rem',\n                  backgroundColor: '#374151',\n                  color: 'white',\n                  borderRadius: '0.5rem',\n                  border: 'none',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancel\n              </button>\n            </Link>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              style={{\n                padding: '0.75rem 2rem',\n                backgroundColor: loading ? '#6B7280' : '#3B82F6',\n                color: 'white',\n                borderRadius: '0.5rem',\n                border: 'none',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              }}\n            >\n              {loading ? 'Updating...' : 'Update Product'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/arrow-left.js","sources":["file:///home/silent-killer/Videos/timora_check/timora/node_modules/lucide-react/src/icons/arrow-left.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAkB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC/C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,SAAA,CAAA,CAAA,KAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}}]
}