{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/silent-killer/Videos/timora_check/timora/app/admin/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n\n  useEffect(() => {\n    // Check admin authentication\n    const checkAdmin = async () => {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        router.push('/login')\n        return\n      }\n\n      try {\n        const res = await fetch('http://localhost:8000/api/auth/me', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n\n        if (res.ok) {\n          const user = await res.json()\n          if (!user.is_admin) {\n            alert('Admin access required')\n            router.push('/')\n          }\n        } else {\n          router.push('/login')\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error)\n        router.push('/login')\n      }\n    }\n\n    checkAdmin()\n  }, [router])\n\n  return <>{children}</>\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,YAAY,KAInC;QAJmC,EAClC,QAAQ,EAGT,GAJmC;;IAKlC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;iCAAC;YACR,6BAA6B;YAC7B,MAAM;oDAAa;oBACjB,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,CAAC,OAAO;wBACV,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,qCAAqC;4BAC3D,SAAS;gCAAE,iBAAiB,AAAC,UAAe,OAAN;4BAAQ;wBAChD;wBAEA,IAAI,IAAI,EAAE,EAAE;4BACV,MAAM,OAAO,MAAM,IAAI,IAAI;4BAC3B,IAAI,CAAC,KAAK,QAAQ,EAAE;gCAClB,MAAM;gCACN,OAAO,IAAI,CAAC;4BACd;wBACF,OAAO;4BACL,OAAO,IAAI,CAAC;wBACd;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,sBAAsB;wBACpC,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEA;QACF;gCAAG;QAAC;KAAO;IAEX,qBAAO;kBAAG;;AACZ;GAxCwB;;QAKP,kJAAS;;;KALF","debugId":null}}]
}