{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/silent-killer/Videos/timora_check/timora/app/admin/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n\n  useEffect(() => {\n    // Check admin authentication\n    const checkAdmin = async () => {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        router.push('/login')\n        return\n      }\n\n      try {\n        const res = await fetch('http://localhost:8000/api/auth/me', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n\n        if (res.ok) {\n          const user = await res.json()\n          if (!user.is_admin) {\n            alert('Admin access required')\n            router.push('/')\n          }\n        } else {\n          router.push('/login')\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error)\n        router.push('/login')\n      }\n    }\n\n    checkAdmin()\n  }, [router])\n\n  return <>{children}</>\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,6BAA6B;QAC7B,MAAM,aAAa;YACjB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,qCAAqC;oBAC3D,SAAS;wBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAChD;gBAEA,IAAI,IAAI,EAAE,EAAE;oBACV,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,IAAI,CAAC,KAAK,QAAQ,EAAE;wBAClB,MAAM;wBACN,OAAO,IAAI,CAAC;oBACd;gBACF,OAAO;oBACL,OAAO,IAAI,CAAC;gBACd;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,OAAO,IAAI,CAAC;YACd;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,qBAAO;kBAAG;;AACZ","debugId":null}}]
}